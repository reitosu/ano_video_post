(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5405],{48312:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(55990)}])},44195:function(e,s,t){"use strict";var i=t(85893),l=t(33729),n=t(99603);t(67294);let r=e=>{let{textVariant:s="baseSemi",textColor:t="default",searchFocus:r}=e;return r!=l.ce.internet&&null!=l.o$[r]?(0,i.jsx)(l.xu,{children:(0,i.jsxs)(l.RT,{variant:s,color:t,className:"flex items-center gap-x-xs",children:[(0,i.jsx)(n.G,{size:"1x",icon:l.o$[r].icon}),(0,i.jsx)("div",{children:l.o$[r].text})]})}):null};s.Z=r},13967:function(e,s,t){"use strict";var i=t(85893),l=t(33729),n=t(93024),r=t(33299),a=t(67294),c=t(96113);let o=e=>{let{}=e,{data:s}=(0,r.useSession)(),[t,o]=(0,a.useState)(!1),d=(0,l.HM)(),u=(0,l.Vm)(),x=(0,l.w8)();return s?null:(0,i.jsxs)("div",{className:"flex items-center gap-x-sm pt-sm",children:[u&&(0,i.jsx)(l.zx,{fullWidth:!0,text:"Get iPhone App",variant:"primary",size:"small",href:l.PQ,icon:n.Av$}),x&&(0,i.jsx)(l.zx,{fullWidth:!0,text:"Get Android App",variant:"primary",size:"small",href:l.gG,icon:n.usd}),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.zx,{variant:d?"common":"primary",fullWidth:!0,size:"small",text:"Sign Up",onClick:()=>o(!0)}),(0,i.jsx)(l.zx,{size:"small",variant:"common",fullWidth:!0,text:"Sign In",onClick:()=>o(!0)}),(0,i.jsx)(c._,{isOpen:t,onClose:()=>o(!1)})]})]})};s.Z=o},82376:function(e,s,t){"use strict";var i=t(85893),l=t(33729),n=t(11238),r=t(11163),a=t(67294),c=t(96740);let o=e=>{let{}=e,[s,t]=(0,a.useState)(!1),o=(0,r.useRouter)(),d=(0,a.useCallback)(async()=>{await o.push("/"),window.location.reload()},[o]);return(0,a.useEffect)(()=>{"success"===o.query.stripe_checkout&&(t(!0),(0,n.U)())},[o.query.stripe_checkout]),(0,a.useEffect)(()=>{localStorage.removeItem("referral_code"),localStorage.removeItem("referral_code_expiry")},[]),(0,i.jsx)(l.u_,{isOpen:s,onClose:()=>t(!1),variant:"hide-chrome",children:(0,i.jsxs)(l.xu,{variant:"background",className:" animate-in duration-1000 ease-out fade-in rounded-xl max-w-screen-md",children:[(0,i.jsxs)("div",{className:" pt-2xl px-2xl text-center ",children:[(0,i.jsxs)("div",{className:"mb-lg",children:[(0,i.jsxs)(l.RT,{variant:"display",className:"inline",children:["Welcome to"," "]}),(0,i.jsx)(l.RT,{variant:"display",color:"super",className:"inline",children:"Pro"}),(0,i.jsx)(l.RT,{variant:"section-title",color:"light",className:"mt-sm",children:"Your subscription begins now"})]}),(0,i.jsx)(l.zx,{size:"large",variant:"primary",fullWidth:!0,text:"Get Started",pill:!0,onClick:d})]}),(0,i.jsxs)(l.xu,{variant:"offset",className:"px-lg rounded-b-xl mt-xl py-lg",children:[(0,i.jsx)(l.RT,{variant:"section-title",color:"light",className:"mb-md",children:"Refer a friend and you both get a discount. Give $10, get $10."}),(0,i.jsx)(c.Z,{})]})]})})};s.Z=o},96658:function(e,s,t){"use strict";var i=t(85893),l=t(37414),n=t(58917),r=t(33729),a=t(99603),c=t(87072),o=t(30120),d=t(41664),u=t.n(d),x=t(11163);t(67294);var m=t(44195);let h=e=>{let{title:s,preview:t,threadCount:d,lastUpdated:h,href:f="/",rwToken:v,onDelete:p,searchFocus:j,copilot:g,socialInfo:w,showActionMenu:N=!0}=e,_=(0,n.T)(),y=(0,x.useRouter)(),b=(0,r.xc)(),k=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.ce.internet;e.preventDefault(),_((0,l.P5)(s)),y.push(f)};return(0,i.jsxs)(r.xu,{className:"py-md md:px-0 max-w-[100%]",children:[(0,i.jsx)(u(),{href:f,className:"block group",onClick:e=>k(e,j),children:(0,i.jsx)(r.xu,{className:"flex items-center group",children:(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:"",children:[(0,i.jsx)(r.RT,{variant:"baseSemi",children:(0,i.jsx)("div",{className:"md:group-hover:text-super transition duration-300 line-clamp-1 break-all",children:s})}),(0,i.jsx)(r.RT,{variant:"small",color:"light",className:"line-clamp-2 mt-two break-all",children:t})]})})})}),(0,i.jsx)("div",{className:N?"mt-xs":"mt-sm",children:(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsxs)("div",{className:"flex gap-x-md items-center",children:[d&&(0,i.jsxs)("div",{className:"flex gap-x-xs  items-center",children:[(0,i.jsx)(r.RT,{variant:"tiny",color:"light",children:(0,i.jsx)(a.G,{icon:c.Krp})}),(0,i.jsx)(r.RT,{variant:"tiny",color:"light",children:d})]}),h&&(0,i.jsxs)("div",{className:"flex gap-x-xs  items-center",children:[(0,i.jsx)(r.RT,{variant:"tiny",color:"light",children:(0,i.jsx)(a.G,{icon:c.SZw})}),(0,i.jsx)(r.RT,{variant:"tiny",color:"light",children:o.ou.fromISO("".concat(h,"Z")).toRelative()})]}),b&&!!w&&(0,i.jsxs)(i.Fragment,{children:[w.view_count>0&&(0,i.jsxs)("div",{className:"flex gap-x-xs  items-center",children:[(0,i.jsx)(r.RT,{variant:"tiny",color:"light",children:(0,i.jsx)(a.G,{icon:c.Mdf})}),(0,i.jsx)(r.RT,{variant:"tiny",color:"light",children:(0,r.uf)(w.view_count)})]}),w.fork_count>0&&(0,i.jsxs)("div",{className:"flex gap-x-xs  items-center",children:[(0,i.jsx)(r.RT,{variant:"tiny",color:"light",children:(0,i.jsx)(a.G,{icon:c.MDP})}),(0,i.jsx)(r.RT,{variant:"tiny",color:"light",children:(0,r.uf)(w.fork_count)})]}),w.like_count>0&&(0,i.jsxs)("div",{className:"flex gap-x-xs  items-center",children:[(0,i.jsx)(r.RT,{variant:"tiny",color:"light",children:(0,i.jsx)(a.G,{icon:c.m6i})}),(0,i.jsx)(r.RT,{variant:"tiny",color:"light",children:(0,r.uf)(w.like_count)})]})]}),g&&(0,i.jsxs)("div",{className:"flex gap-x-xs items-center",children:[(0,i.jsx)(r.RT,{variant:"tiny",color:"super",children:(0,i.jsx)(a.G,{icon:(0,r.fI)().true.icon})}),(0,i.jsx)(r.RT,{variant:"tiny",color:"super",children:(0,r.fI)().true.text})]}),(0,i.jsx)(m.Z,{textColor:"light",textVariant:"tiny",searchFocus:j})]}),N&&(0,i.jsx)("div",{className:"-mr-xs",children:(0,i.jsx)(r.GV,{items:[{icon:c.XAH,text:"Delete",onClick:p}],children:(0,i.jsx)(r.Av,{size:"small",icon:c.S6C})})})]})})]})};s.Z=h},80582:function(e,s,t){"use strict";t.d(s,{Q:function(){return o}});var i=t(85893),l=t(36322),n=t(67294);let r=(e,s,t)=>{(0,n.useEffect)(()=>{let i=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&s()})},t);return e.current&&i.observe(e.current),()=>{e.current&&i.unobserve(e.current)}},[e,s,t])};var a=t(33729),c=t(96658);let o=n.memo(n.forwardRef((e,s)=>{let{searchTerm:t}=e,o=(0,n.useRef)(void 0),u=(0,n.useRef)(),x=(0,l.D)(t),[m,h]=(0,n.useState)([]);(0,n.useEffect)(()=>{var e;let s=new Set,i=[...o.current===t||x.isLoading?m:[],...null!==(e=x.data)&&void 0!==e?e:[]].filter(e=>!(s.has(e.uuid)||x.deletedThreads.has(e.uuid))&&(s.add(e.uuid),!0));i.length!==m.length&&(o.current=t,h(i))},[t,m,x.data,x.deletedThreads,x.isLoading]);let f=(0,n.useCallback)(()=>{x.paginationInfo.hasNextPage&&!x.isLoading&&x.paginationInfo.getNextPage()},[x]);r(u,f,{rootMargin:"50px",threshold:0});let v=(0,n.useCallback)(()=>{h([])},[]);(0,n.useImperativeHandle)(s,()=>({resetThreads:v}));let p=m.map(e=>({title:e.first_query,preview:d(e.first_answer),threadCount:e.query_count,lastUpdated:e.last_query_datetime,href:"/search/".concat(e.uuid),rwToken:e.read_write_token,searchFocus:e.search_focus,threadUuid:e.uuid,copilot:"copilot"===e.mode,socialInfo:e.social_info}));return(0,i.jsxs)(i.Fragment,{children:[!(x.isLoading||x.isIdle)&&0===p.length&&(0,i.jsx)(a.xu,{variant:"offset",className:"p-xl mt-md flex items-center justify-center rounded-md",children:(0,i.jsx)(a.RT,{color:"light",children:"No threads yet"})}),(0,i.jsx)(a.xu,{className:"divide-y",children:p.map(e=>(0,i.jsx)(c.Z,{title:e.title,preview:e.preview,threadCount:e.threadCount,lastUpdated:e.lastUpdated,href:e.href,rwToken:e.rwToken,socialInfo:e.socialInfo,onDelete:()=>{var s;x.deleteThread(null!==(s=e.threadUuid)&&void 0!==s?s:""),a.zW.deleteThreadFromHistoryClick(e.threadUuid)},searchFocus:e.searchFocus,copilot:e.copilot},e.href))}),(o.current===t&&x.isLoading||x.isIdle&&0==p.length)&&(0==p.length?(0,i.jsx)(a.xu,{children:(0,i.jsx)(a.Ow,{animateLines:!1,blockCount:12,divider:!0})}):(0,i.jsx)(a.xu,{children:(0,i.jsx)(a.Ow,{animateLines:!1,blockCount:1})})),p.length>0&&(0,i.jsx)("div",{ref:u})]})})),d=e=>{let s=(0,a.bJ)(e);return s?s.answer.replace(/\[\d+\]/g,""):"No preview available."}},55990:function(e,s,t){"use strict";t.r(s),t.d(s,{__N_SSP:function(){return R},default:function(){return S}});var i=t(85893),l=t(33729),n=t(87072),r=t(33299),a=t(67294),c=t(96113),o=t(54522),d=t(99611),u=t(11163),x=t(96658);let m=a.memo(e=>{var s,t;let{sampleQueries:n,page:r}=e,{isLoading:c,sampleQueries:o}=function(e){let s=function(){let e=(0,u.useRouter)(),s=e.query.source,t=e.query.s;return s||t}();(0,a.useMemo)(()=>["ask",e,{sourceParam:s}],[e,s]);let t=(0,d.Z)("list_feed",0!==e?[{offset:e%4*5,limit:5}]:[null]),i=(0,a.useMemo)(()=>t.data,[t.data]);return{...t,data:i,sampleQueries:null!=i?i:[]}}(r),m=0===r?n:o,h=(0,a.useMemo)(()=>{let e=[];for(let s=0;s<m.length;s+=3){let t=m.slice(s,s+3);e.push(t)}return e},[m]),f=(0,a.useMemo)(()=>h.map(e=>e.map(e=>{let s="";if(e.answer)s=e.answer;else try{s=JSON.parse(e.first_answer).answer}catch(e){console.log(e)}return s.replace(/\[\d\]/g,"")})),[h]);return(0,i.jsx)(l.xu,{className:"divide-y",children:m&&h.map((e,l)=>e.map((e,n)=>(0,i.jsx)("div",{className:"h-full ",children:(0,i.jsx)("div",{className:"",children:(0,i.jsx)(x.Z,{title:null!==(s=null==e?void 0:e.first_query)&&void 0!==s?s:null==e?void 0:e.query_str,preview:f[l][n],href:"/search/".concat(null!==(t=null==e?void 0:e.uuid)&&void 0!==t?t:null==e?void 0:e.entry_uuid),socialInfo:null==e?void 0:e.social_info,showActionMenu:!1})})},n)))})});var h=t(80582);let f=e=>{let{sampleQueries:s}=e,{data:t}=(0,r.useSession)(),[d,u]=(0,a.useState)(!0),[x,f]=(0,a.useState)(!1),v=Array.isArray(s)?s:[],p=v.length>0?0:1,[j,g]=(0,a.useState)(p),w=(0,a.useCallback)(()=>{g(e=>e+1),l.zW.refreshPopularTopics()},[]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(l.xu,{className:"mt-sm md:mt-lg md:min-w-screen-md min-h-[370px]",children:[(0,i.jsx)("div",{className:"hidden md:block",children:(0,i.jsx)(l.h4,{title:"Popular Now",variant:"section",icon:n.Xgz,actionList:[{visible:!0,icon:n.QDM,onClick:w}]})}),(0,i.jsx)(l.xu,{className:"md:hidden h-12 border-b",children:(0,i.jsx)(o.Z,{fillSpace:!0,actionList:[{text:"Popular",icon:n.Xgz,show:!0,active:d,onClick:()=>u(!0)},{text:"Your Threads",icon:n.Krp,show:!0,active:!d,onClick:()=>t?u(!1):f(!0)}]})}),d?(0,i.jsx)(m,{sampleQueries:s,page:j}):(0,i.jsx)(h.Q,{})]}),(0,i.jsx)(c._,{isOpen:x,onClose:()=>f(!1)})]})},v=()=>((0,a.useEffect)(()=>{var e,s;let t=()=>{window.google.accounts.id.initialize({client_id:"60244564555-30175ip7vg79fobh0rk1sur3pdutj9l1.apps.googleusercontent.com",callback:i,auto_select:!0}),window.google.accounts.id.prompt()},i=async e=>{await (0,r.signIn)("googleonetap",{credential:e.credential})};if(null===(e=window.google)||void 0===e||null===(s=e.accounts)||void 0===s||!s.id)return window.addEventListener("google.accounts.id.loaded",t),()=>{window.removeEventListener("google.accounts.id.loaded",t)};t()},[]),null);var p=t(43810),j=t(13967),g=t(66991),w=t(82376),N=t(67877),_=t(32061),y=t(28663),b=t(37414),k=t(58917);let T=e=>{let{sampleQueries:s,gpt4Limit:t}=e,{data:o}=(0,r.useSession)();(0,a.useContext)(l.Vw),(0,u.useRouter)();let d=(0,N.T)(),x=(0,k.T)(),{isAuthModalOpen:m,setIsAuthModalOpen:h,isPricingModalOpen:T,setIsPricingModalOpen:R,...S}=(0,_.Z)({}),[C,z]=(0,a.useState)(!1),I=(0,l.f3)(),Z=(0,y.W)();(0,a.useEffect)(()=>{I&&z(!localStorage.getItem("ask_updates_dismissed"))},[I]),(0,a.useEffect)(()=>{null!=t&&x((0,b.NF)(t))},[x,t]);let P=(0,l.dD)();return(0,i.jsxs)(p.Z,{mobileDefaultHeader:!1,minimalLogo:!0,children:[!o&&(0,i.jsx)(v,{}),o&&(0,i.jsxs)(l.xu,{variant:"offset",className:"md:hidden flex items-center absolute top-0 right-0 border-b w-full py-xs",children:[(0,i.jsx)(l.Av,{href:"/settings",size:"small",text:"Settings",icon:n.b7W}),(0,i.jsx)("div",{className:"flex items-center",children:(0,i.jsx)(l.Av,{href:"/profile",size:"small",text:"AI Profile",icon:n.bpC})})]}),(0,i.jsx)("div",{className:"relative justify-center mt-xl md:mt-0 md:flex items-center h-full",children:(0,i.jsxs)("div",{className:"w-full",children:[(0,i.jsxs)("div",{className:"mb-lg md:mb-xl ",children:[(0,i.jsx)("div",{className:"pb-md md:pb-lg flex items-center justify-center",children:(0,i.jsx)(l.TR,{size:P?"large":"xl",isPro:Z})}),(0,i.jsx)(l.nj,{defaultTall:!0,hasShadow:!0,...S,setSelectedFocus:e=>{"wolfram"!==e||o?S.setSelectedFocus(e):h(!0)},showFocuses:!0,showPowerToggle:!0,showAutosuggestions:d}),(0,i.jsx)(c._,{isOpen:m,onClose:()=>h(!1)}),(0,i.jsx)(g.Z,{isOpen:T,onClose:()=>R(!1)})]}),(0,i.jsx)(f,{sampleQueries:s})]})}),!o&&(0,i.jsx)(l.xu,{variant:"background",className:"md:hidden left-0 fixed z-20 bottom-0 right-0 px-sm pb-sm border-t",children:(0,i.jsx)(j.Z,{})}),(0,i.jsx)(w.Z,{})]})};var R=!0,S=T}},function(e){e.O(0,[5913,7948,9359,120,3810,9774,2888,179],function(){return e(e.s=48312)}),_N_E=e.O()}]);